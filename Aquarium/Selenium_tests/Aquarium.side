{
  "id": "38835726-68e9-40de-a27b-51a979abda0b",
  "version": "2.0",
  "name": "Aquarium",
  "url": "https://blynk.cloud/dashboard/96790/global/filter/718771",
  "tests": [{
    "id": "8261bd47-a47f-4f67-b492-712e5bab698b",
    "name": "/reuse/login",
    "commands": [{
      "id": "47b44138-f666-4a04-ba9d-84b5c61f8ab5",
      "comment": "",
      "command": "open",
      "target": "https://blynk.cloud/dashboard/login",
      "targets": [],
      "value": ""
    }, {
      "id": "d954bb59-010c-4d4f-80c6-c1556d1f6ca3",
      "comment": "",
      "command": "setWindowSize",
      "target": "1552x840",
      "targets": [],
      "value": ""
    }, {
      "id": "1c6ed776-139e-408d-b298-e444ab16e8f3",
      "comment": "",
      "command": "if",
      "target": "selenium.isElementPresent(\"xpath=//span[text()='Go to Web Console']\")",
      "targets": [],
      "value": ""
    }, {
      "id": "a71ca5ff-61b4-475e-ae27-85b4091dcd64",
      "comment": "",
      "command": "click",
      "target": "xpath=//span[text()='Go to Web Console']",
      "targets": [],
      "value": ""
    }, {
      "id": "076ec706-1fa4-4681-b0ee-08902d37703c",
      "comment": "",
      "command": "end",
      "target": "",
      "targets": [],
      "value": ""
    }, {
      "id": "a8406833-2254-4307-9d82-efaaff2b6e90",
      "comment": "",
      "command": "if",
      "target": "selenium.isElementPresent(\"xpath=//*[@id='password']\")",
      "targets": [],
      "value": ""
    }, {
      "id": "d81c065f-2d1e-40fc-833e-2f1319aa5cbb",
      "comment": "",
      "command": "click",
      "target": "xpath=//*[@id=\"email\"]",
      "targets": [],
      "value": ""
    }, {
      "id": "ba3ec26a-6936-4d4b-8270-72d439ba88f0",
      "comment": "",
      "command": "type",
      "target": "id=email",
      "targets": [],
      "value": "i.miflig@gmail.com"
    }, {
      "id": "658fdb9e-746f-4ce3-8a25-0cad6a80fbb1",
      "comment": "",
      "command": "click",
      "target": "xpath=//*[@id=\"password\"]",
      "targets": [],
      "value": ""
    }, {
      "id": "ea26bdec-5dfb-4812-a397-cfd9a70c4342",
      "comment": "",
      "command": "type",
      "target": "id=password",
      "targets": [],
      "value": "Cat-12345"
    }, {
      "id": "aa35621e-514d-4a2f-a2ea-2cd5f51b3ab1",
      "comment": "",
      "command": "click",
      "target": "xpath=//button[@type='submit']",
      "targets": [],
      "value": ""
    }, {
      "id": "a0aae58a-8fbf-4411-bfc5-f3f8fbfff09d",
      "comment": "",
      "command": "end",
      "target": "",
      "targets": [],
      "value": ""
    }]
  }, {
    "id": "de21c43d-a7f8-4452-8bcc-98255c6dabd6",
    "name": "/reuse/check_device_is_online",
    "commands": [{
      "id": "2f0b8b01-0467-4832-a47d-24de5256c04e",
      "comment": "",
      "command": "run",
      "target": "/reuse/switch_to_device",
      "targets": [],
      "value": ""
    }, {
      "id": "ab6acb00-2608-41a9-9c9f-cf39b8dc49a0",
      "comment": "",
      "command": "storeText",
      "target": "xpath=//span[contains(@class, \"device-status-tag\")]",
      "targets": [],
      "value": "status"
    }, {
      "id": "9d1d1b6f-7e5d-450b-8b39-32c237732ae7",
      "comment": "",
      "command": "echo",
      "target": "${deviceName} is ${status}",
      "targets": [],
      "value": ""
    }, {
      "id": "d922bd1c-0c65-44ca-a977-e3f490c3b9b7",
      "comment": "Check if device online",
      "command": "assert",
      "target": "status",
      "targets": [],
      "value": "Online"
    }]
  }, {
    "id": "23d0be61-b52b-4dd8-a3aa-fdbc9a0b9fc0",
    "name": "/reuse/switch_to_device",
    "commands": [{
      "id": "1b59caae-4bbc-4a43-b109-fe8594f6e230",
      "comment": "",
      "command": "open",
      "target": "https://blynk.cloud/dashboard/96790/global/filter/718771",
      "targets": [],
      "value": ""
    }, {
      "id": "f1392dd9-168c-4781-91b2-b232e0ea8249",
      "comment": "",
      "command": "click",
      "target": "xpath=//div[text()='${deviceName}']",
      "targets": [],
      "value": ""
    }]
  }, {
    "id": "66b2cc4b-45f1-4b0d-9509-20a47ea83da0",
    "name": "/reuse/Aquarium_test_config",
    "commands": [{
      "id": "7ad72da8-16b5-4408-97c5-816ceedc865b",
      "comment": "",
      "command": "store",
      "target": "Aquarium test",
      "targets": [],
      "value": "deviceName"
    }, {
      "id": "211f63f2-a4f8-46a4-80e9-8750b484459d",
      "comment": "",
      "command": "store",
      "target": "ZFbdiBHXrv_mtYCIn1pBfwKJllf2K706",
      "targets": [],
      "value": "deviceToken"
    }, {
      "id": "6ea03d24-4820-43b1-bc2f-865b827d900c",
      "comment": "",
      "command": "store",
      "target": "40",
      "targets": [],
      "value": "luminosityThreshold"
    }, {
      "id": "b9034233-1acf-479a-8632-73906f306af6",
      "comment": "",
      "command": "executeScript",
      "target": "return false;",
      "targets": [],
      "value": "luminosityIncreasingWithLight"
    }]
  }, {
    "id": "7e472da4-5d46-41c4-9e8f-fe5d2b2c1638",
    "name": "/reuse/Template/Aquarium_config",
    "commands": [{
      "id": "e399a931-4f24-461e-99a9-99f792e3231f",
      "comment": "",
      "command": "store",
      "target": "v10",
      "targets": [],
      "value": "dsLightOnHours"
    }, {
      "id": "906459e5-486b-44cd-babb-e81d72d2ca01",
      "comment": "",
      "command": "store",
      "target": "v11",
      "targets": [],
      "value": "dsLightOffHours"
    }, {
      "id": "dff8c85c-7f82-4ea4-9f48-0c41e02b318a",
      "comment": "",
      "command": "store",
      "target": "v5",
      "targets": [],
      "value": "dsFeedHours"
    }, {
      "id": "fd7ef096-777e-465e-8242-f29ffa30a667",
      "comment": "",
      "command": "store",
      "target": "v6",
      "targets": [],
      "value": "dsFeedMinutes"
    }]
  }, {
    "id": "3ead92cb-a729-46a3-a6ff-40b3df24a403",
    "name": "/reuse/Aquarium_prod_config",
    "commands": [{
      "id": "707c975a-ce15-45cd-af11-0b5f81de5c86",
      "comment": "",
      "command": "store",
      "target": "Aquarium 1",
      "targets": [],
      "value": "deviceName"
    }, {
      "id": "3cba772e-58e5-4712-b929-06fc66e6c39d",
      "comment": "",
      "command": "store",
      "target": "WrzZA9Tl9kv16mwF7X68fpZvt5aSS9j1",
      "targets": [],
      "value": "deviceToken"
    }, {
      "id": "55c95cd1-16eb-4e34-a4ff-c4c719d1b8eb",
      "comment": "",
      "command": "store",
      "target": "60",
      "targets": [],
      "value": "luminosityThreshold"
    }, {
      "id": "73d1115f-e5c8-477a-a0f3-c63b705e9629",
      "comment": "",
      "command": "executeScript",
      "target": "return true;",
      "targets": [],
      "value": "luminosityIncreasingWithLight"
    }]
  }, {
    "id": "b123fa3d-af47-4dc4-a481-bafbfb57c02d",
    "name": "/reuse/check_light",
    "commands": [{
      "id": "7f5db08f-bc79-4068-8e52-8697efb201e8",
      "comment": "",
      "command": "run",
      "target": "/reuse/login",
      "targets": [],
      "value": ""
    }, {
      "id": "2a1734c0-ed12-433d-bb12-118646b20f99",
      "comment": "",
      "command": "run",
      "target": "/reuse/Template/Aquarium_config",
      "targets": [],
      "value": ""
    }, {
      "id": "1fb7565b-b854-4ea8-8a3e-5be90255ae56",
      "comment": "",
      "command": "run",
      "target": "/reuse/check_device_is_online",
      "targets": [],
      "value": ""
    }, {
      "id": "d30753db-b6f7-4627-8b04-1112aaba9c30",
      "comment": "",
      "command": "executeScript",
      "target": "const date=new Date(); return date.getHours()",
      "targets": [],
      "value": "lightOnHours"
    }, {
      "id": "1bc625e3-57a7-446e-8338-08166d281e53",
      "comment": "",
      "command": "executeScript",
      "target": "return ${lightOnHours} + 1",
      "targets": [],
      "value": "lightOffHours"
    }, {
      "id": "9fccfd7e-b7f2-4bc4-baeb-8b76b6af9d40",
      "comment": "",
      "command": "if",
      "target": "!${isLightOn}",
      "targets": [],
      "value": ""
    }, {
      "id": "d559bf27-b921-4179-99a4-482c3e90f80a",
      "comment": "",
      "command": "executeScript",
      "target": "return ${lightOnHours} - 1",
      "targets": [],
      "value": "lightOnHours"
    }, {
      "id": "9c207b8a-cf24-4e0a-96bb-7b3a74a42794",
      "comment": "",
      "command": "executeScript",
      "target": "return ${lightOffHours} - 1",
      "targets": [],
      "value": "lightOffHours"
    }, {
      "id": "4f15c325-c908-40c0-a8ed-827d32664e4d",
      "comment": "",
      "command": "end",
      "target": "",
      "targets": [],
      "value": ""
    }, {
      "id": "7c3ea33d-6344-480a-b5cb-ac15cc936a2b",
      "comment": "",
      "command": "open",
      "target": "https://fra1.blynk.cloud/external/api/update?token=${deviceToken}&${dsLightOnHours}=${lightOnHours}",
      "targets": [],
      "value": ""
    }, {
      "id": "44ce4e2e-9b0e-4a10-8225-50bf99edfa32",
      "comment": "",
      "command": "pause",
      "target": "1000",
      "targets": [],
      "value": ""
    }, {
      "id": "3950764b-b53e-45f4-aaa0-281d4d727325",
      "comment": "",
      "command": "open",
      "target": "https://fra1.blynk.cloud/external/api/update?token=${deviceToken}&${dsLightOffHours}=${lightOffHours}",
      "targets": [],
      "value": ""
    }, {
      "id": "71ce795b-e1ed-42b1-ad13-f0a730008c75",
      "comment": "",
      "command": "pause",
      "target": "1000",
      "targets": [],
      "value": ""
    }, {
      "id": "2c2af5d9-3dc3-416b-b9e3-7b53e9a21387",
      "comment": "",
      "command": "run",
      "target": "/reuse/check_web_light_indicators",
      "targets": [],
      "value": ""
    }, {
      "id": "7379a12a-e593-4865-b48d-556e41a1e709",
      "comment": "",
      "command": "echo",
      "target": "End of test",
      "targets": [],
      "value": ""
    }]
  }, {
    "id": "3022ce3a-0700-4a12-b3a3-6e1c40b954a0",
    "name": "/reuse/check_web_light_indicators",
    "commands": [{
      "id": "96a4fc0c-f402-4c81-a199-62163e3b27a7",
      "comment": "",
      "command": "storeAttribute",
      "target": "xpath=//*[@id=\"WEB_LED7\"]/div/div[2]/div@style",
      "targets": [],
      "value": "lightColor"
    }, {
      "id": "77da8248-3c56-4634-8aca-bbb1f9e2f653",
      "comment": "",
      "command": "echo",
      "target": "${lightColor}",
      "targets": [],
      "value": ""
    }, {
      "id": "e9e6ab66-c03e-4e27-98ac-b90bc4320ef9",
      "comment": "",
      "command": "if",
      "target": "${isLightOn}",
      "targets": [],
      "value": ""
    }, {
      "id": "c26565d7-5182-4d7c-add6-dcb913e4b07b",
      "comment": "Light state is On",
      "command": "verify",
      "target": "lightColor",
      "targets": [],
      "value": " fill: rgb(250, 219, 20);"
    }, {
      "id": "cb9d9953-e3e7-4a8e-b9a8-073e90a26a27",
      "comment": "",
      "command": "else",
      "target": "",
      "targets": [],
      "value": ""
    }, {
      "id": "67d4a98b-7b72-403f-8b38-7f16141125da",
      "comment": "Light state is Off",
      "command": "verify",
      "target": "lightColor",
      "targets": [],
      "value": " fill: rgba(250, 219, 20, 0);"
    }, {
      "id": "de8eeaf9-2761-4fb2-8905-5e83ae498564",
      "comment": "",
      "command": "end",
      "target": "",
      "targets": [],
      "value": ""
    }, {
      "id": "af2fe484-d446-44e8-b053-fefe0fdabccd",
      "comment": "",
      "command": "pause",
      "target": "6000",
      "targets": [],
      "value": ""
    }, {
      "id": "0a9c10b9-953a-4917-85ec-55ef1bb7ccfa",
      "comment": "",
      "command": "storeText",
      "target": "xpath=//*[@id=\"WEB_LABEL3\"]/div/div[2]/div/span",
      "targets": [],
      "value": "sensorData"
    }, {
      "id": "94a42876-4221-43e0-9a87-7d1cee1aaf3c",
      "comment": "",
      "command": "echo",
      "target": "${sensorData}",
      "targets": [],
      "value": ""
    }, {
      "id": "50ab9668-7ca2-4328-9eae-9380e1156369",
      "comment": "",
      "command": "executeScript",
      "target": "var luminosity = ${sensorData}.split(\"-\")[0]; var luminosityValue = luminosity.match(/\\d+/); return parseInt(luminosityValue, 10);",
      "targets": [],
      "value": "luminosityValueInt"
    }, {
      "id": "0fa70869-f8f0-4195-96a2-fc6a1ee42cec",
      "comment": "",
      "command": "echo",
      "target": "luminosityValueInt = ${luminosityValueInt}",
      "targets": [],
      "value": ""
    }, {
      "id": "8a688c5f-e7ea-4437-b675-cdc0f22c66b5",
      "comment": "",
      "command": "echo",
      "target": "luminosityIncreasingWithLight = ${luminosityIncreasingWithLight}",
      "targets": [],
      "value": ""
    }, {
      "id": "91c5e93b-f55e-4a10-b003-d24362fa5804",
      "comment": "",
      "command": "if",
      "target": "${isLightOn}",
      "targets": [],
      "value": ""
    }, {
      "id": "ce800073-75e6-44da-8893-71546bc7444b",
      "comment": "",
      "command": "executeScript",
      "target": "return ${luminosityValueInt} > ${luminosityThreshold}",
      "targets": [],
      "value": "result"
    }, {
      "id": "72785c80-f3b6-4907-8486-396cc9ac82ed",
      "comment": "",
      "command": "else",
      "target": "",
      "targets": [],
      "value": ""
    }, {
      "id": "80bd255c-a39c-4c9c-ac82-8e4429b45a01",
      "comment": "",
      "command": "executeScript",
      "target": "return ${luminosityValueInt} < ${luminosityThreshold}",
      "targets": [],
      "value": "result"
    }, {
      "id": "1df352cf-11be-47bc-9a44-d3fe75d87d6d",
      "comment": "",
      "command": "end",
      "target": "",
      "targets": [],
      "value": ""
    }, {
      "id": "a0073a36-1a4c-4a5f-afd1-2952e59b05c3",
      "comment": "",
      "command": "if",
      "target": "!${luminosityIncreasingWithLight}",
      "targets": [],
      "value": ""
    }, {
      "id": "158f25ca-7530-4b04-b4e0-f88f98b2c188",
      "comment": "",
      "command": "executeScript",
      "target": "return !${result};",
      "targets": [],
      "value": "result"
    }, {
      "id": "68b556cb-3454-460b-a9ad-a446bf0fc86a",
      "comment": "",
      "command": "end",
      "target": "",
      "targets": [],
      "value": ""
    }, {
      "id": "5cb92186-d44a-4b9a-a9cc-04e9183f9c3f",
      "comment": "",
      "command": "echo",
      "target": "${result}",
      "targets": [],
      "value": ""
    }, {
      "id": "85b35863-3189-4350-a199-80f34298af89",
      "comment": "Luminosity indicates: Light is On",
      "command": "verify",
      "target": "result",
      "targets": [],
      "value": "true"
    }]
  }, {
    "id": "7d1dd645-7a5d-417f-b6a0-4a6b94bba487",
    "name": "Check light is On - Test",
    "commands": [{
      "id": "b307426e-955d-4873-a728-aad549e31287",
      "comment": "",
      "command": "run",
      "target": "/reuse/Aquarium_test_config",
      "targets": [],
      "value": ""
    }, {
      "id": "ee7795ec-3fe1-4313-925d-dde3c684fd86",
      "comment": "",
      "command": "executeScript",
      "target": "return true;",
      "targets": [],
      "value": "isLightOn"
    }, {
      "id": "7f43921a-5a36-42c8-aa92-47908d2be12b",
      "comment": "",
      "command": "run",
      "target": "/reuse/check_light",
      "targets": [],
      "value": ""
    }]
  }, {
    "id": "75d3f41e-f063-4099-a702-3844c824e2dd",
    "name": "Check light is Off - Test",
    "commands": [{
      "id": "cbe83440-372c-4991-8912-1c21e80214a2",
      "comment": "",
      "command": "run",
      "target": "/reuse/Aquarium_test_config",
      "targets": [],
      "value": ""
    }, {
      "id": "906e2c96-479f-44ae-88f4-be427c15ad75",
      "comment": "",
      "command": "executeScript",
      "target": "return false;",
      "targets": [],
      "value": "isLightOn"
    }, {
      "id": "9c966b08-2d8b-44b8-b839-864faa128af2",
      "comment": "",
      "command": "run",
      "target": "/reuse/check_light",
      "targets": [],
      "value": ""
    }]
  }, {
    "id": "6ee1df9a-01ca-4ddd-b161-f5ffafe4fa92",
    "name": "Check light is On - Prod",
    "commands": [{
      "id": "7e5de7b1-0148-4274-9424-f67adb97f73e",
      "comment": "",
      "command": "run",
      "target": "/reuse/Aquarium_prod_config",
      "targets": [],
      "value": ""
    }, {
      "id": "6a033fed-6905-4411-b5b7-9ae7b90020b9",
      "comment": "",
      "command": "executeScript",
      "target": "return true;",
      "targets": [],
      "value": "isLightOn"
    }, {
      "id": "f5205b57-3b9f-4d2a-88d6-27fbbf7870e8",
      "comment": "",
      "command": "run",
      "target": "/reuse/check_light",
      "targets": [],
      "value": ""
    }]
  }, {
    "id": "5e5f40b8-f315-4493-9108-89b0733fd301",
    "name": "Check light is Off - Prod",
    "commands": [{
      "id": "23042c82-c625-499a-91d1-e4b656434148",
      "comment": "",
      "command": "run",
      "target": "/reuse/Aquarium_prod_config",
      "targets": [],
      "value": ""
    }, {
      "id": "4a75444b-d8f9-4050-96a4-8b4eb6ae872f",
      "comment": "",
      "command": "executeScript",
      "target": "return false;",
      "targets": [],
      "value": "isLightOn"
    }, {
      "id": "59a1b6b4-b807-490f-8ee9-f45c2accf5bc",
      "comment": "",
      "command": "run",
      "target": "/reuse/check_light",
      "targets": [],
      "value": ""
    }]
  }, {
    "id": "cdda437b-433e-459c-b653-8836930df115",
    "name": "/reuse/check_manual_feed",
    "commands": [{
      "id": "af7b3d12-c11a-4f52-914e-0a27084c21e2",
      "comment": "",
      "command": "run",
      "target": "/reuse/Template/Aquarium_config",
      "targets": [],
      "value": ""
    }, {
      "id": "963ac590-1e65-4318-b734-05b9880ec8dd",
      "comment": "",
      "command": "run",
      "target": "/reuse/login",
      "targets": [],
      "value": ""
    }, {
      "id": "9e871110-3e64-427b-b9a9-38b83db57097",
      "comment": "",
      "command": "run",
      "target": "/reuse/check_device_is_online",
      "targets": [],
      "value": ""
    }, {
      "id": "f7bc20a4-c59f-4e80-be54-f8fd3c04dce3",
      "comment": "",
      "command": "run",
      "target": "/reuse/wait_for_new_minute_if_needed",
      "targets": [],
      "value": ""
    }, {
      "id": "cf84ee3c-2c78-4dbb-99ae-1432f6166f4f",
      "comment": "",
      "command": "run",
      "target": "/reuse/do_feed",
      "targets": [],
      "value": ""
    }, {
      "id": "92932fdc-0e71-4b2f-820b-e06df3adde4b",
      "comment": "",
      "command": "pause",
      "target": "7000",
      "targets": [],
      "value": ""
    }, {
      "id": "c09be31e-303b-4f72-976f-a1bb2c9e04d2",
      "comment": "",
      "command": "run",
      "target": "/reuse/get_current_system_time",
      "targets": [],
      "value": ""
    }, {
      "id": "2eedf9e0-bbf3-4dd1-959e-29bacdbfc7ca",
      "comment": "",
      "command": "pause",
      "target": "3000",
      "targets": [],
      "value": ""
    }, {
      "id": "cd994655-e965-4879-9b55-46ba79105ff1",
      "comment": "",
      "command": "run",
      "target": "/reuse/get_last_feed_time",
      "targets": [],
      "value": ""
    }, {
      "id": "09e636c8-7277-4861-8bf4-2dea80e338ef",
      "comment": "",
      "command": "echo",
      "target": "lastFeed = ${lastFeed}",
      "targets": [],
      "value": ""
    }, {
      "id": "0d3464e7-63a5-4683-9f27-e5c87f4261ae",
      "comment": "",
      "command": "echo",
      "target": "currentSystemTime = ${currentSystemTime}",
      "targets": [],
      "value": ""
    }, {
      "id": "01749fad-25e2-4a4b-bf37-29081d9acf88",
      "comment": "Feed hours match with system hours",
      "command": "assert",
      "target": "lastFeedHoursInt",
      "targets": [],
      "value": "${currentSystemHours}"
    }, {
      "id": "32c008f6-e55d-482c-9385-318805cb5c03",
      "comment": "Feed minutes match with system minutes",
      "command": "assert",
      "target": "lastFeedMinutesInt",
      "targets": [],
      "value": "${currentSystemMinutes}"
    }]
  }, {
    "id": "528f897a-3ec0-4436-a5d4-a97d5dd18305",
    "name": "/reuse/wait_for_new_minute_if_needed",
    "commands": [{
      "id": "4c066f11-b2b8-44d8-aa54-f7e584906f1f",
      "comment": "",
      "command": "executeScript",
      "target": "const date=new Date(); return date.getSeconds()",
      "targets": [],
      "value": "systemSeconds"
    }, {
      "id": "9e6ecd74-9312-42a5-a941-628968553b17",
      "comment": "",
      "command": "while",
      "target": "${systemSeconds} > 45",
      "targets": [],
      "value": ""
    }, {
      "id": "2ed4c3b8-0ae2-45af-912d-4045cca2cbcc",
      "comment": "",
      "command": "echo",
      "target": "System seconds: ${systemSeconds}. Waiting 1 sec.",
      "targets": [],
      "value": ""
    }, {
      "id": "4f82ccc2-c4d9-4403-a8aa-abb0b05b784d",
      "comment": "",
      "command": "pause",
      "target": "1000",
      "targets": [],
      "value": ""
    }, {
      "id": "a6e72969-b714-45bc-90f3-3dc2bb643521",
      "comment": "",
      "command": "executeScript",
      "target": "const date=new Date(); return date.getSeconds()",
      "targets": [],
      "value": "systemSeconds"
    }, {
      "id": "7603196c-bed2-491d-99d2-c6c62804f2c9",
      "comment": "",
      "command": "end",
      "target": "",
      "targets": [],
      "value": ""
    }]
  }, {
    "id": "dca3a2fa-336b-46d4-8a69-fbac7073658d",
    "name": "/reuse/do_feed",
    "commands": [{
      "id": "89205e9e-a94e-4e7a-9b4f-098e388beb30",
      "comment": "",
      "command": "storeText",
      "target": "xpath=//div[@id='WEB_SWITCH1']//span[contains(@class, 'label')]",
      "targets": [],
      "value": "feedState"
    }, {
      "id": "256879cb-9f6a-46e0-9ac5-57758c3c21a2",
      "comment": "",
      "command": "echo",
      "target": "${feedState}",
      "targets": [],
      "value": ""
    }, {
      "id": "b7a1d508-67df-4342-9b08-52c26c67f17c",
      "comment": "",
      "command": "if",
      "target": "${feedState}==\"Done\"",
      "targets": [],
      "value": ""
    }, {
      "id": "4f91764b-46a0-4d06-8f15-e74252377fbd",
      "comment": "",
      "command": "click",
      "target": "xpath=//div[@id='WEB_SWITCH1']//button",
      "targets": [],
      "value": ""
    }, {
      "id": "f8b23c84-b142-4310-a995-ac0ac6d23a8c",
      "comment": "",
      "command": "pause",
      "target": "1000",
      "targets": [],
      "value": ""
    }, {
      "id": "68f2aba3-e5ec-412b-9abf-7b9346e78f8d",
      "comment": "",
      "command": "end",
      "target": "",
      "targets": [],
      "value": ""
    }, {
      "id": "61d2eeef-c456-476a-b2e4-9d579842608b",
      "comment": "",
      "command": "click",
      "target": "xpath=//div[@id='WEB_SWITCH1']//button",
      "targets": [],
      "value": ""
    }]
  }, {
    "id": "f780379c-5f2f-4e02-8fef-72a52016f8d1",
    "name": "/reuse/get_last_feed_time",
    "commands": [{
      "id": "374fe842-7535-4b20-b9a4-c05069259120",
      "comment": "",
      "command": "storeText",
      "target": "xpath=//div[@id='WEB_LABEL2']//span",
      "targets": [],
      "value": "lastFeed"
    }, {
      "id": "09b90e69-a906-43df-adec-207a2d74df93",
      "comment": "",
      "command": "executeScript",
      "target": "return ${lastFeed}.split(\":\")[0]",
      "targets": [],
      "value": "lastFeedHours"
    }, {
      "id": "591d71b5-0198-48d5-ad9b-754c19711e8d",
      "comment": "",
      "command": "executeScript",
      "target": "return ${lastFeed}.split(\":\")[1]",
      "targets": [],
      "value": "lastFeedMinutes"
    }, {
      "id": "108eca6d-3169-40d3-bee7-969af8d3db74",
      "comment": "",
      "command": "executeScript",
      "target": "return parseInt(${lastFeedHours}, 10)",
      "targets": [],
      "value": "lastFeedHoursInt"
    }, {
      "id": "62a54901-1c90-4834-b640-d6498aab5249",
      "comment": "",
      "command": "executeScript",
      "target": "return parseInt(${lastFeedMinutes}, 10)",
      "targets": [],
      "value": "lastFeedMinutesInt"
    }]
  }, {
    "id": "ced3c0bb-770d-4800-8bd0-b40f12608d24",
    "name": "/reuse/get_current_system_time",
    "commands": [{
      "id": "4f4ce63f-afb9-4499-8a21-b1051cf26266",
      "comment": "",
      "command": "executeScript",
      "target": "const date=new Date(); return String(date.getHours()) + ':' + String(date.getMinutes()) + ':' + String(date.getSeconds())",
      "targets": [],
      "value": "currentSystemTime"
    }, {
      "id": "c2145df8-54d9-452f-bb9f-fff927183f50",
      "comment": "",
      "command": "executeScript",
      "target": "const date=new Date(); return date.getHours()",
      "targets": [],
      "value": "currentSystemHours"
    }, {
      "id": "f57d5dd7-ee1f-4cbd-a822-72f2fb10ec31",
      "comment": "",
      "command": "executeScript",
      "target": "const date=new Date(); return date.getMinutes()",
      "targets": [],
      "value": "currentSystemMinutes"
    }]
  }, {
    "id": "8e1874a3-1188-4725-853f-68f433d16412",
    "name": "Check manual feed - Test",
    "commands": [{
      "id": "90817357-1a69-404d-a854-6c120c1a9374",
      "comment": "",
      "command": "run",
      "target": "/reuse/Aquarium_test_config",
      "targets": [],
      "value": ""
    }, {
      "id": "a72ac548-8d70-4235-83ea-d0e3f218609f",
      "comment": "",
      "command": "run",
      "target": "/reuse/check_manual_feed",
      "targets": [],
      "value": ""
    }]
  }, {
    "id": "75d43f98-916e-4e2a-80c6-0f90927f32fb",
    "name": "Check manual feed - Prod",
    "commands": [{
      "id": "8e58be56-9353-4e2b-a469-f812ca1ce67e",
      "comment": "",
      "command": "run",
      "target": "/reuse/Aquarium_prod_config",
      "targets": [],
      "value": ""
    }, {
      "id": "00d4ebde-33ab-43ab-a55c-b72a2de7ab76",
      "comment": "",
      "command": "run",
      "target": "/reuse/check_manual_feed",
      "targets": [],
      "value": ""
    }]
  }, {
    "id": "6ed6d701-e4f7-45bd-a871-95b9a08e0ae0",
    "name": "/reuse/check_scheduled_feed",
    "commands": [{
      "id": "ccb18702-36ea-434d-8b7f-e4eba7b014af",
      "comment": "",
      "command": "run",
      "target": "/reuse/Template/Aquarium_config",
      "targets": [],
      "value": ""
    }, {
      "id": "0a505848-1e61-43a3-9f47-29f7745839fa",
      "comment": "",
      "command": "run",
      "target": "/reuse/login",
      "targets": [],
      "value": ""
    }, {
      "id": "ae48686c-1723-4029-b4c0-6f75ddd90bd1",
      "comment": "",
      "command": "run",
      "target": "/reuse/wait_for_new_minute_if_needed",
      "targets": [],
      "value": ""
    }, {
      "id": "5f1eabfe-c5c2-4a20-8cbb-f1b08734e589",
      "comment": "",
      "command": "run",
      "target": "/reuse/get_current_system_time",
      "targets": [],
      "value": ""
    }, {
      "id": "7b5c5014-a0b1-40df-987e-ec7d6f6eaa46",
      "comment": "",
      "command": "if",
      "target": "${currentSystemMinutes} < 59 ",
      "targets": [],
      "value": ""
    }, {
      "id": "05273254-b698-433e-a671-7ad2f47c9781",
      "comment": "",
      "command": "executeScript",
      "target": "return ${currentSystemMinutes} + 1 ",
      "targets": [],
      "value": "feedMinutes"
    }, {
      "id": "ca1b0b41-fb6a-440a-b1e4-3630ab5bf2af",
      "comment": "",
      "command": "executeScript",
      "target": "return ${currentSystemHours}",
      "targets": [],
      "value": "feedHours"
    }, {
      "id": "ac523b3c-1e65-413a-95f8-ef294cc22c7b",
      "comment": "",
      "command": "else",
      "target": "",
      "targets": [],
      "value": ""
    }, {
      "id": "40935fa7-da42-4773-ad67-8740cc22eccf",
      "comment": "",
      "command": "executeScript",
      "target": "return 0",
      "targets": [],
      "value": "feedMinutes"
    }, {
      "id": "d81da0bd-12f0-41dc-9845-2562c174a0ec",
      "comment": "",
      "command": "executeScript",
      "target": "return ${currentSystemHours} + 1",
      "targets": [],
      "value": "feedHours"
    }, {
      "id": "47559bb9-6c00-46e9-8f84-19c01e553697",
      "comment": "",
      "command": "end",
      "target": "",
      "targets": [],
      "value": ""
    }, {
      "id": "339dd423-c761-4b14-b32d-88bbbcc1411e",
      "comment": "",
      "command": "echo",
      "target": "feedMinutes = ${feedMinutes}",
      "targets": [],
      "value": ""
    }, {
      "id": "caa67ee5-e909-4172-b7d1-821b89247060",
      "comment": "",
      "command": "echo",
      "target": "feedHours = ${feedHours}",
      "targets": [],
      "value": ""
    }, {
      "id": "d996423d-a672-4731-8b46-cd28983b7285",
      "comment": "",
      "command": "open",
      "target": "https://fra1.blynk.cloud/external/api/update?token=${deviceToken}&${dsFeedHours}=${feedHours}",
      "targets": [],
      "value": ""
    }, {
      "id": "84741b72-0e40-49f4-8647-b23128dfd25d",
      "comment": "",
      "command": "pause",
      "target": "1000",
      "targets": [],
      "value": ""
    }, {
      "id": "f789c325-d79f-4061-831e-7aee6cea555f",
      "comment": "",
      "command": "open",
      "target": "https://fra1.blynk.cloud/external/api/update?token=${deviceToken}&${dsFeedMinutes}=${feedMinutes}",
      "targets": [],
      "value": ""
    }, {
      "id": "9829ae01-7339-4dfc-9718-b2c3fbcc58b8",
      "comment": "",
      "command": "pause",
      "target": "1000",
      "targets": [],
      "value": ""
    }, {
      "id": "c4535611-2692-453b-9c02-1c88758e78af",
      "comment": "",
      "command": "run",
      "target": "/reuse/check_device_is_online",
      "targets": [],
      "value": ""
    }, {
      "id": "8328e785-ad72-4436-a524-ea394fbacfe0",
      "comment": "",
      "command": "storeText",
      "target": "xpath=//div[@id='WEB_SWITCH1']//span[contains(@class, 'label')]",
      "targets": [],
      "value": "feedState"
    }, {
      "id": "d78a9377-49f6-44b8-8961-d4680fc62585",
      "comment": "",
      "command": "if",
      "target": "${feedState}==\"Done\"",
      "targets": [],
      "value": ""
    }, {
      "id": "1233c5dc-df9a-449f-a9b2-f788c7cedc35",
      "comment": "",
      "command": "click",
      "target": "xpath=//div[@id='WEB_SWITCH1']//button",
      "targets": [],
      "value": ""
    }, {
      "id": "2756ea54-30c8-461d-b32c-2079635cdc57",
      "comment": "",
      "command": "end",
      "target": "",
      "targets": [],
      "value": ""
    }, {
      "id": "fe7a4a7a-a841-45c6-9e47-817127dc51fc",
      "comment": "",
      "command": "executeScript",
      "target": "const date=new Date(); return date.getMinutes()",
      "targets": [],
      "value": "currentSystemMinutes"
    }, {
      "id": "a36e7bf6-4c31-42fa-9e7a-4edd7ba38ee8",
      "comment": "",
      "command": "while",
      "target": "${currentSystemMinutes} != ${feedMinutes}",
      "targets": [],
      "value": ""
    }, {
      "id": "2c4587fe-4fe8-40e6-92c0-677a14d931d1",
      "comment": "",
      "command": "pause",
      "target": "5000",
      "targets": [],
      "value": ""
    }, {
      "id": "eefe53b0-39e1-4b63-bed5-7c26feae81c4",
      "comment": "",
      "command": "executeScript",
      "target": "const date=new Date(); return date.getMinutes()",
      "targets": [],
      "value": "currentSystemMinutes"
    }, {
      "id": "88fd98b7-c1f3-4c7b-b62d-8ed113dc530d",
      "comment": "",
      "command": "end",
      "target": "",
      "targets": [],
      "value": ""
    }, {
      "id": "77887844-c3b8-4102-8496-682fccb8a3ec",
      "comment": "",
      "command": "pause",
      "target": "15000",
      "targets": [],
      "value": ""
    }, {
      "id": "c725d83c-cac7-4ba5-9320-0e5a14813998",
      "comment": "",
      "command": "run",
      "target": "/reuse/get_last_feed_time",
      "targets": [],
      "value": ""
    }, {
      "id": "4fb95490-5e60-41a4-b490-c7bb7a789207",
      "comment": "",
      "command": "echo",
      "target": "lastFeed = ${lastFeed}",
      "targets": [],
      "value": ""
    }, {
      "id": "727784b0-11b7-43c0-a433-0b24442289f0",
      "comment": "Feed hours match scheduled hours",
      "command": "assert",
      "target": "lastFeedHoursInt",
      "targets": [],
      "value": "${feedHours}"
    }, {
      "id": "aaa9ac67-ce9e-4f46-83d4-8a2243598a3a",
      "comment": "Feed minutes match scheduled minutes",
      "command": "assert",
      "target": "lastFeedMinutesInt",
      "targets": [],
      "value": "${feedMinutes}"
    }]
  }, {
    "id": "1c579a4a-9024-42b1-afaf-645830771e8b",
    "name": "Check scheduled feed - Test",
    "commands": [{
      "id": "710a460d-8e73-4705-a413-b0dd74afdcb0",
      "comment": "",
      "command": "run",
      "target": "/reuse/Aquarium_test_config",
      "targets": [],
      "value": ""
    }, {
      "id": "b225658c-a3c1-48ed-88b3-d56438df2148",
      "comment": "",
      "command": "run",
      "target": "/reuse/check_scheduled_feed",
      "targets": [],
      "value": ""
    }]
  }, {
    "id": "d909ae31-a04b-45ab-a09d-f9f34f7ba87a",
    "name": "Check scheduled feed - Prod",
    "commands": [{
      "id": "7285857b-1261-4b77-8010-cf485dae23eb",
      "comment": "",
      "command": "run",
      "target": "/reuse/Aquarium_prod_config",
      "targets": [],
      "value": ""
    }, {
      "id": "63225cd7-1774-48ff-83ad-2631fcfa5856",
      "comment": "",
      "command": "run",
      "target": "/reuse/check_scheduled_feed",
      "targets": [],
      "value": ""
    }]
  }],
  "suites": [{
    "id": "b1c98391-0a1b-4be9-aadf-173c56d50f89",
    "name": "reuse",
    "persistSession": false,
    "parallel": false,
    "timeout": 300,
    "tests": ["6ed6d701-e4f7-45bd-a871-95b9a08e0ae0", "8261bd47-a47f-4f67-b492-712e5bab698b", "de21c43d-a7f8-4452-8bcc-98255c6dabd6", "23d0be61-b52b-4dd8-a3aa-fdbc9a0b9fc0", "66b2cc4b-45f1-4b0d-9509-20a47ea83da0", "7e472da4-5d46-41c4-9e8f-fe5d2b2c1638", "3ead92cb-a729-46a3-a6ff-40b3df24a403", "3022ce3a-0700-4a12-b3a3-6e1c40b954a0", "b123fa3d-af47-4dc4-a481-bafbfb57c02d", "dca3a2fa-336b-46d4-8a69-fbac7073658d", "ced3c0bb-770d-4800-8bd0-b40f12608d24", "f780379c-5f2f-4e02-8fef-72a52016f8d1", "528f897a-3ec0-4436-a5d4-a97d5dd18305", "cdda437b-433e-459c-b653-8836930df115"]
  }, {
    "id": "105163ac-376e-4443-9779-9ae1581374a9",
    "name": "Light - Prod env",
    "persistSession": false,
    "parallel": false,
    "timeout": 300,
    "tests": ["5e5f40b8-f315-4493-9108-89b0733fd301", "6ee1df9a-01ca-4ddd-b161-f5ffafe4fa92"]
  }, {
    "id": "62fba63b-9e55-450f-9bbb-baf5b2f2155e",
    "name": "Light - Test env",
    "persistSession": false,
    "parallel": false,
    "timeout": 300,
    "tests": ["7d1dd645-7a5d-417f-b6a0-4a6b94bba487", "75d3f41e-f063-4099-a702-3844c824e2dd"]
  }, {
    "id": "207fb3bb-ad4d-42da-9c85-61a4c669be22",
    "name": "Feed - Test env",
    "persistSession": false,
    "parallel": false,
    "timeout": 300,
    "tests": ["8e1874a3-1188-4725-853f-68f433d16412", "1c579a4a-9024-42b1-afaf-645830771e8b"]
  }, {
    "id": "05085566-7473-4dc8-aae7-ef4dd4329975",
    "name": "Feed - Prod env",
    "persistSession": false,
    "parallel": false,
    "timeout": 300,
    "tests": ["75d43f98-916e-4e2a-80c6-0f90927f32fb", "d909ae31-a04b-45ab-a09d-f9f34f7ba87a"]
  }],
  "urls": ["https://blynk.cloud/dashboard/96790/global/filter/718771"],
  "plugins": []
}